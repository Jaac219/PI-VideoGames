(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){e.exports={formContainer:"formCreate_formContainer__3rJ5c",groupOne:"formCreate_groupOne__3CmGy",groupTwo:"formCreate_groupTwo__CD33c",description:"formCreate_description__is8aJ",btnImage:"formCreate_btnImage__1R79c",imgAdd:"formCreate_imgAdd__2cDO8",groupThree:"formCreate_groupThree__P48Ic",btnSubmit:"formCreate_btnSubmit__1XlTC",containerBtnSm:"formCreate_containerBtnSm__2XIZO",buttonSm:"formCreate_buttonSm__2bOnf"}},13:function(e,t,a){e.exports={loginContainer:"Login_loginContainer__3FOtu",loginForm:"Login_loginForm__3kvgg",title:"Login_title__3diwV",email:"Login_email__O7Qq-",password:"Login_password__29Pzd",submit:"Login_submit__24AI0"}},14:function(e,t,a){e.exports={btnPageNum:"videoGames_btnPageNum__1nynx",btnPage:"videoGames_btnPage__Fw3_L",section:"videoGames_section__1Y1ae",order:"videoGames_order__2-AQQ",container:"videoGames_container__26Iku"}},15:function(e,t,a){e.exports={container:"gameDetail_container__3fLUk",containerDetail:"gameDetail_containerDetail__28yBw",containRating:"gameDetail_containRating__2Whog",genres:"gameDetail_genres__3by5B",platforms:"gameDetail_platforms__1Zcu5",date:"gameDetail_date__AhIv8"}},19:function(e,t,a){e.exports={card:"videoGame_card__fHM_F",containRating:"videoGame_containRating__2HV6H",containGenres:"videoGame_containGenres__2XnLQ",lnk:"videoGame_lnk__2rOvd",btnsChanges:"videoGame_btnsChanges__KRP68"}},21:function(e,t,a){e.exports={formSearch:"searchBar_formSearch__1hOpV",btnSearch:"searchBar_btnSearch__1PL4Y",groupButton:"searchBar_groupButton__13FQw"}},25:function(e,t,a){e.exports={modal:"modalEdit_modal__3Daq8"}},31:function(e,t,a){e.exports={container:"error404_container__1B1i0",elements:"error404_elements__2BIMv"}},45:function(e,t,a){e.exports={container:"landing_container__KgIDX"}},47:function(e,t,a){e.exports={navBar:"navBar_navBar__27bEy"}},48:function(e,t,a){e.exports={selectFilter:"filters_selectFilter__1bAbF"}},55:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(23),i=a.n(r),s=(a(55),a(4)),o=a(3),l=a(44),d=a(30),u=a.n(d),j="GET_VIDEOGAMES",b="GET_GENRES",m="ORDER_OR_FILTER",p="GET_GAME_DETAIL",O="GET_PLATFORMS",f="RESPONSE_SERVER",g="ORDER_BY",h="FILTER",x="FLAG_SEARCH",v="SUCCESS",_="GET_USER",y="LOADING_USER",N=a(11),E=a.n(N),C=function(){return function(e){return e({type:v,payload:""}),e({type:f,payload:""}),e({type:j,payload:[]}),E.a.get("https://api-rest-videogames.herokuapp.com/videogames").then((function(t){e({type:j,payload:t.data})})).catch((function(t){e({type:f,payload:"No se encontraron resultados"})}))}},w=function(){return function(e){return E.a.get("https://api-rest-videogames.herokuapp.com/genres").then((function(t){e({type:b,payload:t.data})}))}},S=function(e){return{type:m,payload:e}},k=function(e){return function(t){return t({type:p,payload:{}}),t({type:f,payload:""}),E.a.get("https://api-rest-videogames.herokuapp.com/videogame/".concat(e)).then((function(e){200===e.status?t({type:p,payload:e.data}):t({type:f,payload:"No se encontraron resultados"})})).catch((function(e){t({type:f,payload:"Ha ocurrido un error"})}))}},I=function(e){return{type:x,payload:e}},F=function(e){return{type:y,payload:e}},D=a(9),G=a(45),B=a.n(G),R=a(12),P=a(2),T=a(5),L=a(13),A=a.n(L),V=a(46),q=a.n(V),H=a(0);function M(){var e=Object(n.useState)({email:"",password:""}),t=Object(T.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(a),i=Object(T.a)(r,2),o=i[0],l=i[1],d=Object(s.b)();function u(e){c(Object(P.a)(Object(P.a)({},a),{},Object(R.a)({},e.target.name,e.target.value)))}function j(e){var t;e.preventDefault(),Object.keys(o)[0]||(a.password=q()(a.password),d((t=a,function(e){return E.a.post("https://api-rest-videogames.herokuapp.com/login",t).then((function(t){localStorage.setItem("token_id",t.data.token),e({type:_,payload:t.data.user})}))})))}return Object(n.useEffect)((function(){l(function(e){var t=e.email,a=e.password,n={};return t||(n.email="Este campo es obligatorio"),a||(n.password="Este campo es obligatorio"),n}(a))}),[a]),Object(H.jsx)("div",{className:A.a.loginContainer,children:Object(H.jsxs)("form",{onSubmit:function(e){j(e)},className:A.a.loginForm,children:[Object(H.jsx)("span",{className:A.a.title,children:Object(H.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"})}),Object(H.jsx)("input",{required:!0,onChange:function(e){u(e)},name:"email",type:"email",className:A.a.email,placeholder:"Email"}),o.email&&Object(H.jsx)("label",{children:o.email}),Object(H.jsx)("input",{required:!0,onChange:function(e){u(e)},name:"password",type:"password",className:A.a.password,placeholder:"Password"}),o.password&&Object(H.jsx)("label",{children:o.password}),Object(H.jsx)("button",{type:"submit",name:"Login",className:A.a.submit,children:"Login"})]})})}function U(){var e="/client-videogames",t=Object(s.c)((function(e){return e})).user;return Object(H.jsx)("div",{style:{backgroundImage:"url(".concat(e,"/images/landing.png)")},className:B.a.container,children:t.id?Object(H.jsx)(D.b,{to:"/videogames",children:Object(H.jsx)("img",{src:"".concat(e,"/images/play.png"),alt:""})}):Object(H.jsx)(M,{})})}var J=a(47),Q=a.n(J);function X(){return Object(s.c)((function(e){return e})).user.id?Object(H.jsx)("div",{children:Object(H.jsxs)("nav",{className:Q.a.navBar,children:[Object(H.jsx)(D.b,{to:"/",children:"Home / "}),Object(H.jsx)(D.b,{to:"/videogames",children:"Videogames / "}),Object(H.jsx)(D.b,{to:"/videogames/create",children:"Crear  "}),Object(H.jsx)("button",{onClick:function(){localStorage.removeItem("token_id"),window.location.reload()},children:"Logout"})]})}):null}var Y=a(19),z=a.n(Y),K=a(25),W=a.n(K),Z=a(18),$=a(10),ee=a.n($);function te(e){var t=e.modal,a=e.onClose,c=e.gameId,r=Object(s.c)((function(e){return e.genres})),i=Object(s.c)((function(e){return e.platforms})),o=Object(s.c)((function(e){return e.videogame})),l=Object(s.c)((function(e){return e})),d=l.error,u=l.success,j=Object(n.useState)({name:"",description:"",released:"",rating:"",background_image:"",genres:[],platforms:[]}),b=Object(T.a)(j,2),m=b[0],p=b[1],g=Object(n.useState)({}),h=Object(T.a)(g,2),x=h[0],_=h[1],y=Object(s.b)();function N(e){p(Object(P.a)(Object(P.a)({},m),{},Object(R.a)({},e.target.name,e.target.value)))}function C(e){var a;e.preventDefault(),Object.keys(x)[0]?alert("Error en el formulario"):t?window.confirm("Seguro que quiere modificar este juego")&&y((a=m,Object.keys(a).map((function(e){""==a[e]&&(a[e]=null)})),function(e){return e({type:v,payload:""}),e({type:f,payload:""}),E.a.put("https://api-rest-videogames.herokuapp.com/videogame",a).then((function(){e({type:v,payload:"Juego actualizado correctamente"})})).catch((function(){e({type:f,payload:"Error al registrar el juego"})}))})):y(function(e){return Object.keys(e).map((function(t){""==e[t]&&(e[t]=null)})),function(t){return t({type:f,payload:""}),t({type:v,payload:""}),E.a.post("https://api-rest-videogames.herokuapp.com/videogame",e).then((function(e){t({type:v,payload:"Juego creado correctamente"})})).catch((function(e){t({type:f,payload:"Ha ocurrido un error"})}))}}(m))}function S(e){var t=document.getElementById(e+"Id"),a=t.options[t.selectedIndex].text;if(t.value){var n=m[e].filter((function(e){return e.id!=t.value}));p(Object(P.a)(Object(P.a)({},m),{},Object(R.a)({},e,[].concat(Object(Z.a)(n),[{id:t.value,name:a}])))),document.getElementById(e+"Id").value=""}else alert("Debe seleccionar un valor")}function I(e,t){p(Object(P.a)(Object(P.a)({},m),{},Object(R.a)({},e,m[e].filter((function(e){return e.id!=t})))))}return Object(n.useEffect)((function(){_(function(e){var t={};if(e.name||(t.name="Name is required"),e.description||(t.description="Description is required"),e.released&&!e.released.match(/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/)&&(t.released="Format date no valid"),e.released){var a=new Date;new Date(e.released)>a&&(t.released="Date greater than today")}return e.rating&&(Number.isNaN(Number.parseFloat(e.rating))?t.rating="Rating is not number":e.rating<0&&(t.rating="The value must be positive")),e.genres[0]||(t.genres="Genres is required"),e.platforms[0]||(t.platforms="Platforms is required"),t}(m))}),[m]),Object(n.useEffect)((function(){t&&o.id&&p(o)}),[o]),Object(n.useEffect)((function(){t||(u&&(alert(u),window.location.reload()),d&&(alert(d),window.location.reload()))}),[d,u]),Object(n.useEffect)((function(){y(w()),y((function(e){return E.a.get("https://api-rest-videogames.herokuapp.com/platforms").then((function(t){e({type:O,payload:t.data})}))})),c&&y(k(c))}),[y]),Object(H.jsx)("div",{className:ee.a.formContainer,children:Object(H.jsxs)("form",{onSubmit:function(e){C(e)},children:[Object(H.jsx)("h1",{children:t?"Edit Game":"Register a new game"}),Object(H.jsxs)("div",{className:ee.a.groupOne,children:[Object(H.jsxs)("div",{children:[Object(H.jsx)("label",{htmlFor:"",children:"Name: "}),Object(H.jsx)("input",{className:x.name&&"inputError",onChange:function(e){N(e)},name:"name",type:"text",value:m.name?m.name:""}),x.name&&Object(H.jsx)("p",{className:"inputError",children:x.name})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("label",{htmlFor:"",children:"Date Released: "}),Object(H.jsx)("input",{className:x.released&&"inputError",onChange:function(e){N(e)},name:"released",type:"date",value:m.released?m.released:""}),x.released&&Object(H.jsx)("p",{className:"inputError",children:x.released})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("label",{htmlFor:"",children:"Raiting: "}),Object(H.jsx)("input",{className:x.rating&&"inputError",onChange:function(e){N(e)},name:"rating",step:"0.01",type:"number",value:m.rating?m.rating:""}),x.rating&&Object(H.jsx)("p",{className:"inputError",children:x.rating})]})]}),Object(H.jsxs)("div",{className:ee.a.description,children:[Object(H.jsx)("label",{htmlFor:"",children:"Description: "}),Object(H.jsx)("textarea",{className:x.description&&"inputError",onChange:function(e){N(e)},name:"description",cols:"10",rows:"1",value:m.description?m.description:""}),x.description&&Object(H.jsx)("p",{className:"inputError",children:x.description})]}),Object(H.jsxs)("div",{className:ee.a.groupTwo,children:[Object(H.jsxs)("div",{children:[Object(H.jsx)("input",{id:"imageFile",type:"file",className:ee.a.btnImage,accept:"image/*",onChange:function(){!function(){p(Object(P.a)(Object(P.a)({},m),{},{background_image:""}));var e=document.getElementById("imageFile");if(e.files[0]){var t=new FileReader;t.readAsDataURL(e.files[0]),t.onload=function(){p(Object(P.a)(Object(P.a)({},m),{},{background_image:t.result}))}}}()}}),m.background_image?Object(H.jsx)("img",{className:ee.a.imgAdd,src:m.background_image,width:"20px",height:"20px",alt:""}):Object(H.jsx)("i",{className:"fa fa-ban",style:{color:"red",margin:"auto"},"aria-hidden":"true"})]}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("select",{className:x.genres&&"selectError",name:"genre",id:"genresId",children:[Object(H.jsx)("option",{value:"",children:"Select genre"},0),r&&r.map((function(e){return Object(H.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(H.jsx)("button",{type:"button",onClick:function(){S("genres")},children:Object(H.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true"})}),x.genres&&Object(H.jsx)("p",{className:"selectError",children:x.genres})]}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("select",{className:x.platforms&&"selectError",name:"platform",id:"platformsId",children:[Object(H.jsx)("option",{value:"",children:"Select Platform"},0),i&&i.map((function(e){return Object(H.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(H.jsx)("button",{type:"button",onClick:function(){S("platforms")},children:Object(H.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true"})}),x.platforms&&Object(H.jsx)("p",{className:"selectError",children:x.platforms})]})]}),Object(H.jsxs)("div",{className:ee.a.groupThree,children:[Object(H.jsx)("div",{children:m.genres[0]&&m.genres.map((function(e){return Object(H.jsxs)("div",{children:[Object(H.jsxs)("label",{children:[" ",e.name]}),Object(H.jsx)("button",{onClick:function(){I("genres",e.id)},children:Object(H.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})})]},e.id)}))}),Object(H.jsx)("div",{children:m.platforms[0]&&m.platforms.map((function(e){return Object(H.jsxs)("div",{children:[Object(H.jsxs)("label",{children:[" ",e.name]}),Object(H.jsx)("button",{onClick:function(){I("platforms",e.id)},children:Object(H.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})})]},e.id)}))})]}),t?Object(H.jsxs)("div",{className:ee.a.containerBtnSm,children:[Object(H.jsx)("button",{onClick:function(){a()},type:"button",className:ee.a.buttonSm,children:"Close"}),Object(H.jsx)("button",{type:"submit",className:ee.a.buttonSm,children:"Update"})]}):Object(H.jsx)("div",{className:ee.a.btnSubmit,children:Object(H.jsxs)("button",{children:["Register ",Object(H.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})]})})]})})}function ae(e){var t=e.show,a=e.onClose,n=e.gameId;return t?Object(H.jsx)("div",{className:W.a.modal,children:Object(H.jsx)("div",{className:W.a.modalContent,children:Object(H.jsx)("div",{className:W.a.modalBody,children:Object(H.jsx)(te,{modal:!0,onClose:a,gameId:n})})})}):null}function ne(e){var t=Object(s.c)((function(e){return e.genres})),a=Object(s.c)((function(e){return e})),c=a.error,r=a.success,i=Object(s.b)(),o=Object(n.useState)(!1),l=Object(T.a)(o,2),d=l[0],u=l[1];function j(e){window.confirm("Seguro que quiere elminar este juego")&&i(function(e){return function(t){return t({type:f,payload:""}),t({type:v,payload:""}),E.a.delete("https://api-rest-videogames.herokuapp.com/videogame/".concat(e)).then((function(e){t({type:v,payload:"Juego eliminado correctamente"})})).catch((function(e){t({type:f,payload:"Ha ocurrido un error"})}))}}(e))}function b(e){u(e)}return Object(n.useEffect)((function(){c&&alert(c),r&&(alert(r),i(C()))}),[c,r]),Object(H.jsxs)("div",{className:z.a.card,children:[Object(H.jsx)("img",{src:e.background_image?e.background_image:"./images/background_default.jpg",alt:"Imagen del juego"}),Object(H.jsx)("h1",{children:e.name}),Object(H.jsx)("div",{className:z.a.containRating,children:Object(H.jsx)("i",{className:"fa fa-star","aria-hidden":"true",children:Object(H.jsx)("i",{className:"fa fa-star","aria-hidden":"true",children:Object(H.jsx)("h6",{children:e.rating})})})}),Object(H.jsx)("div",{className:z.a.containGenres,children:e.genres&&e.genres.map((function(e){return t.map((function(t){if(e.name==t.name)return Object(H.jsxs)("div",{children:[Object(H.jsx)("img",{src:t.image_background,alt:""}),Object(H.jsx)("p",{children:t.name})]},t.id)}))}))}),Object(H.jsx)(D.b,{className:isNaN(e.id)?z.a.lnk:"",to:"/videogames/game/".concat(e.id),children:Object(H.jsx)("p",{children:"view more"})}),isNaN(e.id)&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:z.a.btnsChanges,children:[Object(H.jsx)("button",{onClick:function(){b(!0)},children:Object(H.jsx)("i",{className:"fa fa-table","aria-hidden":"true"})}),Object(H.jsx)("button",{onClick:function(){j(e.id)},children:Object(H.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})})]}),Object(H.jsx)(ae,{show:d,onClose:b,gameId:e.id})]})]})}var ce=a(48),re=a.n(ce);function ie(){var e=Object(s.c)((function(e){return e.allVideogames})),t=Object(s.c)((function(e){return e.genres})),a=Object(s.b)();function c(){var e=document.getElementById("selFilterType").value,t=document.getElementById("selFilterGenre").value;a(S("filter")),a(function(e,t){return{type:h,payload:{filterType:e,filterGenre:t}}}(e,t))}return Object(n.useEffect)((function(){a(w())}),[a]),Object(n.useEffect)((function(){c()}),[e]),Object(H.jsxs)("div",{className:re.a.selectFilter,children:[Object(H.jsxs)("select",{onChange:function(){c()},id:"selFilterType",children:[Object(H.jsx)("option",{value:"all",children:"All"}),Object(H.jsx)("option",{value:"database",children:"DataBase"}),Object(H.jsx)("option",{value:"rawg",children:"Rawg"})]}),Object(H.jsxs)("select",{onChange:function(){c()},id:"selFilterGenre",children:[Object(H.jsx)("option",{value:"",children:"Select Genre"}),t.map((function(e){return Object(H.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})}var se=a(21),oe=a.n(se);function le(){var e=Object(s.b)(),t=Object(n.useState)(""),a=Object(T.a)(t,2),c=a[0],r=a[1];function i(t){var a;0==t?c?(e((a=c,function(e){return e({type:j,payload:[]}),e({type:f,payload:""}),E.a.get("https://api-rest-videogames.herokuapp.com/videogames?name=".concat(a)).then((function(t){200===t.status?e({type:j,payload:t.data}):e({type:f,payload:"No se encontraron resultados"})})).catch((function(t){e({type:f,payload:"Ha ocurrido un error"})}))})),e(I(!0))):alert("Debe ingresar un valor"):(e(C()),e(I(!1))),r("")}return Object(H.jsx)("form",{className:oe.a.formSearch,onSubmit:function(e){!function(e){e.preventDefault()}(e)},children:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("i",{className:"fa fa-search"}),Object(H.jsx)("input",{placeholder:"Search for name",onChange:function(e){r(e.target.value)},type:"text",value:c}),Object(H.jsxs)("div",{className:oe.a.groupButton,children:[Object(H.jsx)("button",{className:oe.a.btnSearch,onClick:function(){i(0)},children:Object(H.jsx)("i",{className:"fa fa-search"})}),Object(H.jsx)("button",{className:oe.a.btnSearch,onClick:function(){i(1)},children:Object(H.jsx)("i",{className:"fa fa-retweet"})})]})]})})}function de(e){var t=e.error;e.path;return Object(H.jsxs)("div",{className:"responseError",children:[Object(H.jsx)("img",{src:window.location.origin+"/images/error.png",alt:""}),Object(H.jsx)("h1",{children:t||"Sin resultados"})]})}var ue=function(){return Object(H.jsxs)("div",{className:"loading",children:[Object(H.jsx)("img",{src:window.location.origin+"/images/loading.gif",alt:""}),Object(H.jsx)("h1",{children:"Loading..."})]})},je=a(14),be=a.n(je);var me=function(){var e=Object(s.c)((function(e){return e.allVideogames})),t=Object(s.c)((function(e){return e.viewVideoGames})),a=Object(s.c)((function(e){return e.error})),c=Object(n.useState)({page:1,numElements:15}),r=Object(T.a)(c,2),i=r[0],o=r[1],l=Object(s.c)((function(e){return e.orderOrFilter})),d=Object(s.c)((function(e){return e.flagSearch})),u=Object(s.b)();function j(e){if(0===e&&(e=i.page+1),-1===e&&(e=i.page-1),e>0&&e<=Math.ceil(t.length/i.numElements)){for(var a=document.getElementsByClassName("btnsPaginate"),n=1;n<=a.length;n++)document.getElementById("btnPage"+n).style.color=e==n?"red":"white";o(Object(P.a)(Object(P.a)({},i),{},{page:e}))}}function b(){var e=document.getElementById("selOrderBy").value,t=document.getElementById("ascDesc").value;e&&(u(S("order")),u(function(e,t){return{type:g,payload:{orderBy:e,ascDesc:t}}}(e,t)))}return Object(n.useEffect)((function(){d&&u(C()),u(I(!1))}),[u]),Object(n.useEffect)((function(){"filter"==l&&b(),j(1)}),[t]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("header",{children:[Object(H.jsx)(le,{}),Object(H.jsx)(ie,{})]}),Object(H.jsxs)("section",{className:be.a.section,children:[Object(H.jsxs)("div",{className:be.a.order,children:[Object(H.jsx)("label",{htmlFor:"",children:"Order by: "}),Object(H.jsxs)("select",{onChange:function(){b()},id:"selOrderBy",children:[Object(H.jsx)("option",{id:"opcOne",value:"",children:"Select"}),Object(H.jsx)("option",{value:"name",children:"Nombre"}),Object(H.jsx)("option",{value:"rating",children:"Rating"})]}),Object(H.jsxs)("select",{onChange:function(){b()},id:"ascDesc",children:[Object(H.jsx)("option",{value:"ASC",children:"ASC"}),Object(H.jsx)("option",{value:"DESC",children:"DESC"})]})]}),Object(H.jsx)("div",{className:be.a.container,children:t[0]?t.map((function(e,t){if(t>=(i.page-1)*i.numElements&&t<=i.page*i.numElements-1)return Object(H.jsx)(ne,{name:e.name,description:e.description,released:e.released,rating:e.rating,background_image:e.background_image,genres:e.genres,id:e.id},e.id)})):e[0]||a?Object(H.jsx)(de,{error:a}):Object(H.jsx)(ue,{})})]}),Object(H.jsxs)("footer",{children:[Object(H.jsx)("button",{className:be.a.btnPage,onClick:function(){return j(-1)},children:"<"}),Object(H.jsx)("div",{id:"btnPageNum",className:be.a.btnPageNum,children:t[0]?t.map((function(e,a){if((a+1)%i.numElements===0||a===t.length-1){var n=Math.ceil((a+1)/i.numElements);return Object(H.jsx)("button",{id:"btnPage"+n,className:"btnsPaginate",onClick:function(e){return j(n)},children:n},n)}})):null}),Object(H.jsx)("button",{className:be.a.btnPage,onClick:function(){return j(0)},children:">"})]})]})},pe=a(15),Oe=a.n(pe);function fe(){var e=Object(o.h)().id,t=Object(s.b)(),a=Object(s.c)((function(e){return e.videogame})),c=Object(s.c)((function(e){return e.error}));Object(n.useEffect)((function(){t(k(e))}),[t]);return Object(H.jsx)(H.Fragment,{children:a.id?Object(H.jsxs)("div",{style:{backgroundImage:"url(".concat(a.background_image,")")},className:Oe.a.container,children:[Object(H.jsx)("img",{src:a.background_image,alt:""}),Object(H.jsxs)("div",{className:Oe.a.containerDetail,children:[Object(H.jsx)("div",{className:Oe.a.containRating,children:Object(H.jsx)("i",{className:"fa fa-star","aria-hidden":"true",children:Object(H.jsx)("i",{className:"fa fa-star","aria-hidden":"true",children:Object(H.jsx)("h3",{children:a.rating})})})}),Object(H.jsx)("h1",{children:a.name}),a.released&&Object(H.jsxs)("div",{className:Oe.a.date,children:[Object(H.jsx)("h4",{style:{color:"yellow"},children:"Release date: \xa0\xa0"}),Object(H.jsx)("p",{children:a.released})]}),Object(H.jsxs)("div",{className:Oe.a.genres,children:[Object(H.jsx)("div",{children:Object(H.jsx)("p",{style:{color:"yellow"},children:"Genre: \xa0\xa0"})}),a.genres&&a.genres.map((function(e){return Object(H.jsx)("div",{children:Object(H.jsxs)("p",{children:["  ",e.name," / \xa0"]})},e.id)}))]}),Object(H.jsx)("p",{children:a.description&&function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}(a.description)}),Object(H.jsxs)("div",{className:Oe.a.platforms,children:[Object(H.jsx)("div",{children:Object(H.jsx)("p",{style:{color:"yellow"},children:"Plataforms: \xa0\xa0"})}),a.platforms&&a.platforms.map((function(e){return e.platform?Object(H.jsx)("div",{children:Object(H.jsxs)("p",{children:["  ",e.platform.name," / \xa0"]})},e.platform.id):Object(H.jsx)("div",{children:Object(H.jsxs)("p",{children:["  ",e.name," / \xa0"]})},e.id)}))]})]})]}):c?Object(H.jsx)(de,{error:c}):Object(H.jsx)(ue,{})})}var ge=a(31),he=a.n(ge);function xe(){return Object(H.jsx)("div",{className:he.a.container,children:Object(H.jsxs)("div",{className:he.a.elements,children:[Object(H.jsx)("img",{src:"./images/error404.png",alt:""}),Object(H.jsx)("h1",{children:"Error 404"}),Object(H.jsx)("h3",{children:"Pagina no encontrada"})]})})}var ve=function(){var e="/client-videogames",t=Object(s.c)((function(e){return e})),a=t.user,c=t.loadingUser,r=Object(s.b)();return Object(n.useEffect)((function(){var e=localStorage.getItem("token_id");console.log(e),r(e?function(e){return function(){var t=Object(l.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("https://api-rest-videogames.herokuapp.com/login/getUser",{token:e}).then((function(e){a({type:_,payload:e.data}),a(F(!1))})).catch((function(){alert("Error en la autenticaci\xf3n"),localStorage.removeItem("token_id"),a(F(!1))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e):F(!1))}),[]),Object(H.jsx)("div",{className:"App",children:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(X,{}),Object(H.jsx)(o.d,{children:c?Object(H.jsx)(o.b,{path:"*",element:Object(H.jsx)(ue,{})}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(o.b,{path:"".concat(e,"/"),element:Object(H.jsx)(U,{})}),Object(H.jsx)(o.b,{path:"".concat(e,"/videogames"),element:a.id?Object(H.jsx)(me,{}):Object(H.jsx)(o.a,{to:"".concat(e,"/")})}),Object(H.jsx)(o.b,{path:"".concat(e,"/videogames/game/:id"),element:a.id?Object(H.jsx)(fe,{}):Object(H.jsx)(o.a,{to:"".concat(e,"/")})}),Object(H.jsx)(o.b,{path:"".concat(e,"/videogames/create"),element:a.id?Object(H.jsx)(te,{}):Object(H.jsx)(o.a,{to:"".concat(e,"/")})}),Object(H.jsx)(o.b,{exact:!0,path:"".concat(e,"/err404"),element:Object(H.jsx)(xe,{})}),Object(H.jsx)(o.b,{path:"*",element:Object(H.jsx)(o.a,{to:"".concat(e,"/err404"),replace:!0})})]})})]})})},_e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,90)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},ye=a(24),Ne=a(49),Ee={allVideogames:[],viewVideoGames:[],genres:[],platforms:[],videogame:{},orderOrFilter:"",error:"",success:"",flagSearch:!0,user:{},loadingUser:!0},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(P.a)(Object(P.a)({},e),{},{allVideogames:t.payload,viewVideoGames:t.payload});case b:return Object(P.a)(Object(P.a)({},e),{},{genres:t.payload});case O:return Object(P.a)(Object(P.a)({},e),{},{platforms:t.payload});case h:var a=function(e,t){return e.filter((function(e){return"rawg"==t&&Number.isInteger(e.id)?e:"database"!=t||Number.isInteger(e.id)?"all"==t?e:void 0:e}))},n=function(e,t){return e.filter((function(e){if(e.genres.find((function(e){return e.id==t})))return e}))},c=t.payload.filterType,r=t.payload.filterGenre,i=e.allVideogames;return c&&(i=a(i,c)),r&&(i=n(i,r)),Object(P.a)(Object(P.a)({},e),{},{viewVideoGames:i});case g:var s=Object(Z.a)(e.viewVideoGames),o=t.payload.ascDesc,l=t.payload.orderBy;return s="ASC"===o?s.sort((function(e,t){return e[l]>t[l]?1:e[l]<t[l]?-1:0})):s.sort((function(e,t){return e[l]>t[l]?-1:e[l]<t[l]?1:0})),Object(P.a)(Object(P.a)({},e),{},{viewVideoGames:s});case m:return Object(P.a)(Object(P.a)({},e),{},{orderOrFilter:t.payload});case p:return Object(P.a)(Object(P.a)({},e),{},{videogame:t.payload});case f:return Object(P.a)(Object(P.a)({},e),{},{error:t.payload});case x:return Object(P.a)(Object(P.a)({},e),{},{flagSearch:t.payload});case v:return Object(P.a)(Object(P.a)({},e),{},{success:t.payload});case _:return Object(P.a)(Object(P.a)({},e),{},{user:t.payload});case y:return Object(P.a)(Object(P.a)({},e),{},{loadingUser:t.payload});default:return e}},we=a(50),Se=Object(ye.legacy_createStore)(Ce,Object(Ne.composeWithDevTools)(Object(ye.applyMiddleware)(we.a)));i.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(s.a,{store:Se,children:Object(H.jsx)(D.a,{children:Object(H.jsx)(ve,{})})})}),document.getElementById("root")),_e()}},[[89,1,2]]]);
//# sourceMappingURL=main.e01dd57c.chunk.js.map